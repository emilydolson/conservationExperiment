#!/bin/bash -login

#PBS -l walltime=10:00:00
#PBS -l nodes=1:ppn=1
#PBS -l mem=4gb
#PBS -N avida-stoichiometry
#PBS -t 1-30
cd ~/avida/cbuild/work

#nop-x limited to .5*1/29
#./avida -c stoichiometry.cfg -set DATA_DIR nopx_.2_${PBS_ARRAYID} -set NON_1_RESOURCE_RATIOS 27:.0185

#got memory usage wrong, also ratio wasn't adjusted for number of instructions, and needed to use different random seeds
#./avida -c stoichiometry.cfg -set DATA_DIR nopx_.5_${PBS_ARRAYID} -set NON_1_RESOURCE_RATIOS 27:.01724 -set RANDOM_SEED ${PBS_ARRAYID}

#Actually, let's run a bunch at once
#./avida -c stoichiometry.cfg -set DATA_DIR nopx_1_${PBS_ARRAYID} -set NON_1_RESOURCE_RATIOS 27:.03448 -set RANDOM_SEED ${PBS_ARRAYID}
#./avida -c stoichiometry.cfg -set DATA_DIR nopx_.5_${PBS_ARRAYID} -set NON_1_RESOURCE_RATIOS 27:.01724 -set RANDOM_SEED ${PBS_ARRAYID}
#./avida -c stoichiometry.cfg -set DATA_DIR nopx_.05_${PBS_ARRAYID} -set NON_1_RESOURCE_RATIOS 27:.001724 -set RANDOM_SEED ${PBS_ARRAYID}
#./avida -c stoichiometry.cfg -set DATA_DIR nopy_1_${PBS_ARRAYID} -set NON_1_RESOURCE_RATIOS 28:.03448 -set RANDOM_SEED ${PBS_ARRAYID}
#./avida -c stoichiometry.cfg -set DATA_DIR nopy_.5_${PBS_ARRAYID} -set NON_1_RESOURCE_RATIOS 28:.01724 -set RANDOM_SEED ${PBS_ARRAYID}
#./avida -c stoichiometry.cfg -set DATA_DIR nopy_.05_${PBS_ARRAYID} -set NON_1_RESOURCE_RATIOS 28:.001724 -set RANDOM_SEED ${PBS_ARRAYID}
#./avida -c stoichiometry.cfg -set DATA_DIR cont_highres_${PBS_ARRAYID} -set NON_1_RESOURCE_RATIOS 0:1 -set RANDOM_SEED ${PBS_ARRAYID}
#./avida -c stoichiometry.cfg -set DATA_DIR cont_copy__${PBS_ARRAYID} -set NON_1_RESOURCE_RATIOS 27:001724 -set RANDOM_SEED ${PBS_ARRAYID} -set EVENT_FILE stoichiometry-events-control.cfg -set INST_SET instset-stoichiometry-control.cfg

#Psych, that doesn't work. These are now all individual qsub files.